import httplib

requestJson = "{\"TradeInfo\":{\"StartDate\":\"2016-04-08\",\"MaturityDate\":\"2016-06-15\",\"Notional\":100000000,\"Calendar\":\"chn\",\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"NonimalCoupon\":0.03,\"DeliverableBondInfos\":[{\"FixedCoupon\":0.0253,\"StartDate\":\"2016-01-14\",\"MaturityDate\":\"2021-01-14\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"160002\"},{\"FixedCoupon\":0.0314,\"StartDate\":\"2015-09-08\",\"MaturityDate\":\"2020-09-08\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"150019\"},{\"FixedCoupon\":0.0402,\"StartDate\":\"2014-07-03\",\"MaturityDate\":\"2021-07-03\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"140013\"},{\"FixedCoupon\":0.0433,\"StartDate\":\"2014-04-03\",\"MaturityDate\":\"2021-04-03\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"140006\"},{\"FixedCoupon\":0.0444,\"StartDate\":\"2014-01-16\",\"MaturityDate\":\"2021-01-16\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"140003\"},{\"FixedCoupon\":0.0407,\"StartDate\":\"2013-10-17\",\"MaturityDate\":\"2020-10-17\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"130020\"},{\"FixedCoupon\":0.0346,\"StartDate\":\"2013-07-11\",\"MaturityDate\":\"2020-07-11\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"Annual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"130015\"},{\"FixedCoupon\":0.0393,\"StartDate\":\"2011-08-18\",\"MaturityDate\":\"2021-08-18\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"110019\"},{\"FixedCoupon\":0.0383,\"StartDate\":\"2011-03-17\",\"MaturityDate\":\"2021-03-17\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"110008\"},{\"FixedCoupon\":0.0394,\"StartDate\":\"2011-01-20\",\"MaturityDate\":\"2021-01-20\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"110002\"},{\"FixedCoupon\":0.0367,\"StartDate\":\"2010-10-28\",\"MaturityDate\":\"2020-10-28\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"100034\"},{\"FixedCoupon\":0.0329,\"StartDate\":\"2010-09-16\",\"MaturityDate\":\"2020-09-16\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"100031\"},{\"FixedCoupon\":0.0328,\"StartDate\":\"2010-08-05\",\"MaturityDate\":\"2020-08-05\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"100024\"},{\"FixedCoupon\":0.0365,\"StartDate\":\"2005-11-15\",\"MaturityDate\":\"2020-11-15\",\"Calendar\":\"chn_ib\",\"PaymentFrequency\":\"SemiAnnual\",\"PaymentStub\":\"LongEnd\",\"Notional\":100,\"Currency\":\"CNY\",\"DayCount\":\"Act365\",\"AccrualBusinessDayConvention\":\"None\",\"PaymentBusinessDayConvention\":\"ModifiedFollowing\",\"Settlment\":\"+0BD\",\"TradingMarket\":\"ChinaInterBank\",\"IsZeroCouponBond\":false,\"IssuePrice\":0,\"FirstPaymentDate\":null,\"Amoritzation\":null,\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"050012\"}],\"ValuationParamters\":{\"DiscountCurveName\":\"IrrCurve\",\"FixingCurveName\":\"\",\"RiskfreeCurveName\":\"FundingCurve\"},\"TradeId\":\"TF1606\"},\"DeliverableBondYtm\":[{\"Key\":\"160002\",\"Value\":0.0249},{\"Key\":\"150019\",\"Value\":0.02522},{\"Key\":\"140013\",\"Value\":0.025556},{\"Key\":\"140006\",\"Value\":0.025172},{\"Key\":\"140003\",\"Value\":0.024906},{\"Key\":\"130020\",\"Value\":0.024637},{\"Key\":\"130015\",\"Value\":0.024842},{\"Key\":\"110019\",\"Value\":0.025775},{\"Key\":\"110008\",\"Value\":0.025109},{\"Key\":\"110002\",\"Value\":0.024917},{\"Key\":\"100034\",\"Value\":0.02467},{\"Key\":\"100031\",\"Value\":0.024541},{\"Key\":\"100024\",\"Value\":0.02442},{\"Key\":\"050012\",\"Value\":0.024721}],\"Direction\":\"bear\",\"ImpactRate\":0.0005,\"PricingRequest\":\"Irr\",\"FuturesPrice\":99.705,\"FundingRate\":0.0267,\"CtdBondInfo\":null,\"CtdBondFullPrice\":null,\"TargetBondInfo\":null,\"TargetBondYtm\":null,\"TargetBondDirtyPrice\":null,\"TargetBondCleanPrice\":null,\"CurveYtm\":null,\"CurveFuturesPrice\":null,\"OpenPositionDate\":\"20160406\",\"ClosePositionDate\":\"20160615\",\"Guid\":\"ca2f7ba4-8503-450c-a46a-6ef29744e789\",\"TimeOutInSeconds\":500,\"CountPerUpdate\":null}"

conn = httplib.HTTPConnection('172.16.8.80', 8190)
conn.request('POST', '/XRay/STG/Qdp/ApService//TfScenarioCalculator', requestJson)
response = conn.getresponse()
print response.read()
conn.close()